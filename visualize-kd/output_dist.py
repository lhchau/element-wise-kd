import matplotlib.pyplot as plt
import numpy as np

# Example: 100 output probabilities (replace this with your actual data)
# probabilities = [    0.0017,     0.0031,     0.0022,     0.0025,     0.0013,     0.0044,
#             0.0035,     0.0055,     0.0041,     0.0068,     0.0035,     0.0031,
#             0.0016,     0.6566,     0.0021,     0.0019,     0.0038,     0.0022,
#             0.0012,     0.0042,     0.0021,     0.0029,     0.0026,     0.0013,
#             0.0014,     0.0033,     0.0034,     0.0022,     0.0023,     0.0025,
#             0.0014,     0.0031,     0.0052,     0.0020,     0.0048,     0.0070,
#             0.0016,     0.0027,     0.0032,     0.0037,     0.0020,     0.0086,
#             0.0015,     0.0010,     0.0014,     0.0030,     0.0041,     0.0013,
#             0.0257,     0.0036,     0.0011,     0.0021,     0.0024,     0.0035,
#             0.0025,     0.0019,     0.0020,     0.0019,     0.0205,     0.0013,
#             0.0016,     0.0051,     0.0015,     0.0008,     0.0021,     0.0031,
#             0.0032,     0.0006,     0.0028,     0.0049,     0.0020,     0.0034,
#             0.0025,     0.0018,     0.0017,     0.0033,     0.0020,     0.0012,
#             0.0019,     0.0015,     0.0017,     0.0064,     0.0073,     0.0053,
#             0.0014,     0.0027,     0.0075,     0.0097,     0.0016,     0.0143,
#             0.0065,     0.0024,     0.0030,     0.0034,     0.0026,     0.0024,
#             0.0017,     0.0038,     0.0023,     0.0015]

probabilities = [0.0079, 0.0154, 0.0062, 0.0121, 0.0084, 0.0072, 0.0090, 0.0103, 0.0084,
        0.0080, 0.0079, 0.0087, 0.0079, 0.0071, 0.0117, 0.0096, 0.0059, 0.0094,
        0.0153, 0.0080, 0.0074, 0.0162, 0.0069, 0.0061, 0.0064, 0.0072, 0.0105,
        0.0124, 0.0065, 0.0895, 0.0077, 0.0140, 0.0060, 0.0117, 0.0232, 0.0052,
        0.0064, 0.0103, 0.0137, 0.0078, 0.0107, 0.0084, 0.0155, 0.0093, 0.0090,
        0.0102, 0.0083, 0.0088, 0.0070, 0.0115, 0.0087, 0.0106, 0.0072, 0.0075,
        0.0117, 0.0142, 0.0101, 0.0098, 0.0079, 0.0068, 0.0054, 0.0071, 0.0081,
        0.0107, 0.0140, 0.0089, 0.0156, 0.0082, 0.0080, 0.0057, 0.0076, 0.0058,
        0.0065, 0.0049, 0.0109, 0.0097, 0.0066, 0.0102, 0.0129, 0.0075, 0.0130,
        0.0060, 0.0087, 0.0099, 0.0080, 0.0082, 0.0056, 0.0082, 0.0089, 0.0085,
        0.0074, 0.0105, 0.0087, 0.0118, 0.0047, 0.0077, 0.0089, 0.0107, 0.0075,
        0.0101]

# probabilities = [0.0061, 0.0086, 0.0070, 0.0076, 0.0052, 0.0103, 0.0091, 0.0117, 0.0100,
#         0.0131, 0.0091, 0.0086, 0.0059, 0.1633, 0.0068, 0.0064, 0.0095, 0.0070,
#         0.0051, 0.0101, 0.0069, 0.0082, 0.0077, 0.0054, 0.0056, 0.0088, 0.0089,
#         0.0071, 0.0072, 0.0075, 0.0055, 0.0086, 0.0114, 0.0067, 0.0109, 0.0134,
#         0.0058, 0.0080, 0.0087, 0.0093, 0.0067, 0.0149, 0.0057, 0.0045, 0.0055,
#         0.0084, 0.0100, 0.0052, 0.0273, 0.0092, 0.0048, 0.0068, 0.0074, 0.0091,
#         0.0076, 0.0065, 0.0067, 0.0064, 0.0241, 0.0052, 0.0060, 0.0112, 0.0057,
#         0.0040, 0.0069, 0.0085, 0.0087, 0.0036, 0.0081, 0.0109, 0.0067, 0.0090,
#         0.0076, 0.0062, 0.0062, 0.0088, 0.0067, 0.0050, 0.0065, 0.0058, 0.0061,
#         0.0127, 0.0137, 0.0114, 0.0055, 0.0078, 0.0138, 0.0160, 0.0060, 0.0198,
#         0.0128, 0.0074, 0.0084, 0.0090, 0.0076, 0.0073, 0.0062, 0.0095, 0.0072,
#         0.0058]

# probabilities = [0.0068, 0.0162, 0.0049, 0.0119, 0.0074, 0.0060, 0.0081, 0.0096, 0.0074,
#         0.0069, 0.0068, 0.0077, 0.0068, 0.0059, 0.0113, 0.0088, 0.0046, 0.0085,
#         0.0161, 0.0069, 0.0063, 0.0174, 0.0057, 0.0049, 0.0052, 0.0061, 0.0098,
#         0.0122, 0.0053, 0.1621, 0.0065, 0.0144, 0.0047, 0.0114, 0.0278, 0.0040,
#         0.0052, 0.0096, 0.0140, 0.0067, 0.0101, 0.0074, 0.0164, 0.0084, 0.0080,
#         0.0095, 0.0073, 0.0079, 0.0058, 0.0111, 0.0078, 0.0100, 0.0061, 0.0063,
#         0.0114, 0.0147, 0.0093, 0.0090, 0.0068, 0.0056, 0.0041, 0.0059, 0.0070,
#         0.0101, 0.0144, 0.0079, 0.0165, 0.0071, 0.0070, 0.0044, 0.0064, 0.0046,
#         0.0053, 0.0037, 0.0104, 0.0089, 0.0054, 0.0095, 0.0129, 0.0064, 0.0131,
#         0.0048, 0.0077, 0.0092, 0.0069, 0.0072, 0.0043, 0.0072, 0.0079, 0.0074,
#         0.0063, 0.0099, 0.0078, 0.0115, 0.0035, 0.0066, 0.0079, 0.0101, 0.0064,
#         0.0094]

fontsize = 18
number_size = 14
# Find index of the maximum probability
max_idx = np.argmax(probabilities)

# Create bar colors: default all blue, except max in red
colors = ['skyblue'] * len(probabilities)
colors[max_idx] = 'red'

# Create bar chart
plt.figure(figsize=(15, 5))
plt.bar(np.arange(len(probabilities)), probabilities, color=colors)

plt.xlabel('Class Index', fontsize=fontsize)
plt.ylabel('Probability', fontsize=fontsize)
# plt.title('Output Probability Distribution')

# Set x-axis ticks every 5 steps
plt.xticks(np.arange(0, len(probabilities), 5), fontsize=number_size)
plt.yticks(np.arange(0, 0.75, 0.1), fontsize=number_size)

# Remove left/right buffer
plt.xlim(-0.5, len(probabilities) - 0.5)

plt.grid(True, axis='y', linestyle='--', alpha=0.7)
plt.tight_layout()
plt.savefig('./data/output_dist/high_entropy.pdf', format="pdf", bbox_inches="tight")
