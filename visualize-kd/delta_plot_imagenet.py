import matplotlib.pyplot as plt
import seaborn as sns
import numpy as np
import pandas as pd
from matplotlib.patches import Patch

ResNet34 = [0.0207, 2.5189, 2.0330, 2.1616, 0.1124, 2.2699, 2.1858, 0.0283, 2.3394,
        2.0906, 0.5597, 1.7606, 1.9979, 2.1563, 2.3928, 1.7549, 2.5182, 1.8839,
        1.2105, 2.3497, 0.5415, 2.7190, 1.7611, 1.7511, 1.3413, 0.0422, 2.8610,
        1.9226, 1.1932, 2.6435, 0.7180, 0.4950, 1.7724, 1.9697, 0.8589, 0.5475,
        2.1529, 0.0178, 1.0787, 2.4601, 2.7720, 1.7832, 0.7066, 2.1803, 0.1807,
        0.1885, 1.7196, 2.3084, 1.0155, 0.1277, 1.2934, 2.0757, 1.9374, 2.2228,
        2.4276, 2.5969, 0.9701, 1.7906, 2.4116, 2.0570, 0.8156, 0.9686, 2.2526,
        1.9616, 1.7886, 0.9135, 2.1858, 0.2564, 2.5042, 0.4228, 2.0742, 0.2291,
        1.7580, 1.4923, 0.8449, 1.8830, 0.1090, 2.3692, 2.5795, 2.5468, 2.6619,
        2.8079, 2.9020, 2.4996, 0.9218, 0.4091, 2.0981, 2.2566, 0.0501, 1.5799,
        0.9078, 1.2039, 1.6061, 2.1157, 2.2190, 1.8210, 3.2311, 0.3092, 2.1748,
        1.8909, 1.7791, 1.7268, 2.6111, 0.8443, 1.2070, 1.9622, 1.5700, 0.2121,
        0.9407, 2.7384, 2.0106, 1.7829, 1.2704, 1.6651, 0.3497, 1.8754, 2.6866,
        1.2643, 1.4212, 1.7966, 2.2986, 1.5657, 2.3525, 1.7958, 2.1359, 1.6210,
        1.9088, 1.2187, 2.1351, 0.5157, 1.4590, 1.5629, 1.3487, 1.5530, 2.5759,
        2.4347, 0.8753, 1.6457, 1.6844, 1.3494, 0.4609, 2.1615, 1.9546, 1.0833,
        1.4535, 1.6618, 0.3821, 2.0363, 0.4341, 0.4519, 0.2013, 2.5555, 0.1162,
        0.4475, 0.0882, 2.5219, 2.5719, 0.6841, 1.5652, 1.8455, 2.6669, 0.0174,
        0.8125, 2.3489, 2.4836, 1.3478, 1.8730, 0.3889, 2.1097, 2.2450, 1.2009,
        2.3028, 1.6427, 1.9473, 1.8058, 2.6143, 1.7631, 2.6028, 0.6230, 2.0704,
        1.1716, 0.8882, 0.5168, 2.0366, 2.6648, 2.4148, 2.0409, 1.0270, 0.5707,
        1.4426, 2.3198, 2.4422, 2.1290, 2.9459, 1.3022, 1.9334, 0.5135, 1.4324,
        2.1387, 1.8693, 1.5154, 1.4383, 1.3662, 2.5215, 0.8632, 1.0293, 1.4705,
        1.4666, 0.9809, 2.7420, 2.3257, 1.7603, 2.2516, 1.2713, 1.6989, 1.0805,
        2.0741, 2.2871, 1.5832, 2.2078, 1.6526, 1.8884, 1.9567, 2.1220, 1.2540,
        2.5992, 0.8473, 2.5939, 1.7994, 0.0495, 0.4267, 2.0384, 0.7606, 0.5549,
        1.7394, 0.0050, 1.2016, 1.1271, 0.2337, 1.7101, 2.7366, 0.8277, 2.3043,
        1.8582, 2.2771, 2.5859, 1.9705, 1.6625, 1.3498, 2.2320, 1.0354, 2.0928,
        2.3737, 2.3416, 2.4839, 2.1620, 0.5896, 1.9867, 1.3563, 0.2518, 0.6801,
        0.8677, 0.1115, 1.3317, 1.6213, 2.4531, 1.1307, 1.8957, 1.1058, 0.6498,
        1.2959, 1.4074, 1.7915, 2.7353, 1.0909, 1.9476, 1.6737, 1.4069, 1.9507,
        1.8282, 3.0028, 1.7179, 1.4223, 1.2433, 0.7561, 2.2431, 1.9939, 0.3385,
        1.8449, 2.2673, 0.4077, 1.2121, 1.4551, 2.6117, 1.8744, 2.1190, 1.2869,
        2.5528, 1.9671, 2.0569, 2.5453, 1.8230, 0.5832, 0.3135, 2.1815, 1.6881,
        2.2854, 2.2762, 1.3395, 2.1000, 1.2828, 1.6580, 2.4970, 1.6413, 1.6607,
        0.7771, 2.7166, 1.8093, 0.2051, 1.7157, 2.0291, 2.4211, 1.6860, 1.5388,
        2.3321, 2.0787, 2.2239, 1.5924, 0.5327, 0.9839, 0.2756, 1.8082, 1.4518,
        1.1596, 0.3155, 2.2146, 1.0402, 0.6505, 1.0897, 2.4352, 1.7597, 1.1708,
        1.5191, 2.2865, 2.4772, 2.8165, 2.5930, 0.4815, 1.9984, 2.4436, 2.1738,
        0.4249, 0.4516, 2.3906, 2.9672, 0.5958, 2.0566, 2.3770, 0.8086, 2.6960,
        0.6508, 2.2495, 1.7835, 1.5467, 1.1710, 1.8324, 1.8769, 2.6081, 2.2554,
        1.9637, 1.9889, 1.3810, 2.5554, 1.6565, 0.3903, 2.0462, 1.9785, 2.2133,
        3.1092, 1.7360, 1.1615, 2.1671, 1.9899, 1.5037, 1.7866, 0.5562, 1.6875,
        1.4794, 2.2205, 3.2134, 2.3972, 1.2326, 2.6254, 1.4141, 2.3470, 2.5047,
        2.8759, 2.0921, 1.6838, 0.5770, 0.5002, 0.9508, 1.8082, 2.1255, 0.2680,
        0.8607, 2.0942, 0.0155, 1.4842, 1.5947, 0.5945, 1.2899, 1.9814, 2.2666,
        1.2979, 2.4137, 2.4249, 2.1852, 2.5967, 1.1227, 2.7134, 0.6942, 1.4800,
        2.5850, 1.8501, 2.2344, 0.8160, 0.0712, 1.9249, 1.9252, 0.9130, 0.2716,
        1.7715, 1.9716, 0.4598, 1.8720, 2.8516, 1.8206, 2.0594, 1.4584, 0.9821,
        2.1836, 2.6637, 1.9501, 1.9491, 1.2616, 2.5122, 1.7947, 1.7276, 2.5207,
        1.8309, 1.8382, 2.1672, 0.1964, 2.5558, 1.4628, 1.4421, 1.9328, 1.5553,
        1.8354, 0.7446, 1.0237, 1.3482, 1.3711, 1.2694, 0.0115, 0.2999, 2.5812,
        1.6032, 0.5477, 2.6859, 1.6457, 2.7354, 2.1170, 1.4227, 0.3868, 0.1470,
        1.2556, 2.0603, 2.5145, 0.5349, 0.4515, 1.4602, 2.1678, 1.1670, 1.7469,
        2.0426, 2.3944, 1.2144, 1.0237, 2.2963, 0.2129, 2.5552, 1.0218, 0.0735,
        1.8079, 1.8411, 1.1363, 0.6050, 1.4921, 0.2617, 2.3486, 2.0160, 1.8650,
        2.1907, 2.4318, 1.6700, 2.1349, 1.5363, 2.1735, 1.9585, 1.2423]

ResNet50 = [    2.7116,     2.9265,     2.4354,     2.7131,     0.0443,     2.3023,
            2.0811,     2.4971,     1.0970,     3.0820,     0.4706,     2.4556,
            2.4316,     1.9921,     2.5434,     2.3058,     2.8233,     2.2171,
            1.1774,     2.0230,     1.5925,     3.0148,     1.0764,     1.2192,
            1.4178,     2.1050,     1.4722,     1.8537,     1.7385,     2.8377,
            1.9513,     0.9900,     2.7634,     1.8178,     0.4302,     2.4121,
            0.9246,     1.7536,     2.4390,     2.6003,     2.0172,     1.5508,
            0.8627,     2.1997,     1.0247,     2.2999,     2.2276,     1.9969,
            2.3796,     1.2183,     0.9073,     2.4664,     2.1591,     2.1907,
            2.8974,     2.6550,     2.8950,     1.8127,     2.8854,     0.7631,
            0.6553,     0.7851,     1.2087,     0.9907,     1.1345,     2.6105,
            1.9215,     0.2755,     2.3893,     0.1686,     2.7398,     1.0677,
            2.4722,     0.6859,     0.2207,     1.1608,     0.3200,     1.9287,
            2.7153,     1.8764,     1.9066,     2.8054,     2.0359,     2.7444,
            1.3489,     1.0670,     1.8374,     2.4928,     0.2259,     1.3668,
            2.4894,     0.9243,     2.3611,     2.3700,     2.7232,     1.8408,
            0.3970,     2.3419,     2.2154,     2.5292,     1.1466,     2.1961,
            2.9689,     2.0614,     0.8752,     2.4233,     2.3086,     1.8455,
            1.0020,     3.3798,     2.2561,     2.5414,     1.7769,     1.2331,
            0.8406,     1.9650,     2.6273,     1.6966,     1.5745,     2.5701,
            2.6077,     2.3473,     2.3608,     1.6366,     0.9998,     0.9939,
            2.3713,     0.8734,     1.9067,     0.0856,     3.2534,     1.7086,
            2.3202,     0.0958,     2.4468,     1.7722,     2.3484,     1.9365,
            2.2648,     1.9205,     0.5415,     2.0047,     2.5247,     1.4840,
            1.3192,     0.8921,     2.7395,     0.7405,     0.0017,     1.5011,
            0.8812,     2.9236,     0.7205,     1.5246,     1.5756,     0.3704,
            1.9752,     1.4181,     1.5777,     2.2792,     2.8259,     1.3143,
            1.6593,     1.8026,     2.2270,     2.5159,     2.0218,     0.7551,
            1.9304,     2.7905,     1.1303,     2.0615,     1.9726,     2.7506,
            2.4330,     3.0966,     1.8921,     3.0286,     1.5931,     2.4508,
            2.7104,     2.0009,     2.1523,     1.9098,     2.9767,     2.4824,
            2.3485,     0.2035,     1.8696,     1.8490,     2.5220,     2.0816,
            2.0753,     2.0310,     1.8349,     2.1467,     1.0754,     1.3025,
            2.8550,     2.3594,     2.4406,     1.9692,     1.5893,     2.6506,
            1.3901,     1.7323,     0.8538,     2.0582,     1.6434,     1.2536,
            2.5249,     2.7267,     3.2101,     0.9838,     1.7308,     2.6793,
            2.7516,     2.2230,     2.4202,     2.0201,     1.7248,     1.8413,
            2.4665,     2.4560,     1.6261,     2.2512,     1.1724,     0.6652,
            3.0602,     0.9063,     1.1496,     2.7009,     1.3504,     1.1921,
            1.7589,     0.2232,     1.5844,     1.8182,     0.1967,     1.7405,
            1.8424,     0.2910,     1.7570,     1.2624,     0.8162,     2.6470,
            2.4382,     2.2414,     1.7078,     2.5974,     1.3920,     0.8209,
            2.5999,     2.8142,     1.1710,     2.5262,     1.4204,     2.0587,
            1.5361,     1.3307,     1.2910,     1.9842,     2.6083,     1.4117,
            2.2542,     2.3325,     1.1784,     2.3528,     0.8534,     2.2880,
            0.5877,     2.0774,     2.2285,     2.8355,     1.4789,     2.2360,
            1.7607,     1.8467,     2.5482,     2.4471,     2.4004,     1.7520,
            1.9144,     0.6893,     1.3377,     2.6372,     1.7705,     1.3176,
            1.6025,     2.6822,     0.6016,     2.5101,     2.3615,     2.3675,
            2.4154,     2.7356,     1.5199,     2.5829,     1.7953,     1.1395,
            2.9706,     1.6973,     0.7773,     0.5313,     0.3908,     0.4013,
            0.2715,     3.1071,     1.5553,     1.4044,     0.2694,     1.5931,
            2.1665,     1.0288,     0.4393,     1.5237,     2.7009,     2.2893,
            0.1542,     2.0848,     2.4983,     1.5454,     0.0211,     1.3435,
            2.3051,     2.3447,     2.2916,     1.8565,     1.3776,     1.0042,
            1.3305,     1.9835,     1.9470,     1.9502,     1.9199,     2.6660,
            2.0701,     0.2532,     1.9135,     2.5361,     1.9272,     2.2570,
            1.6962,     2.5793,     1.6438,     2.7972,     2.1457,     1.1381,
            2.1523,     2.8091,     2.1824,     0.4295,     0.9215,     1.9906,
            2.9421,     1.2864,     2.5959,     2.6446,     1.5854,     2.1995,
            0.2544,     1.7201,     1.7446,     2.6792,     2.7247,     2.8262,
            1.9101,     2.3474,     2.2455,     2.8189,     1.3970,     1.7140,
            2.8512,     1.8929,     0.0207,     2.0430,     0.4904,     2.5655,
            0.0509,     0.0956,     0.1762,     1.8557,     1.8646,     1.8758,
            2.7504,     3.0806,     1.1415,     0.1399,     1.0727,     1.7558,
            2.1505,     2.3606,     3.0611,     1.8299,     1.1794,     1.6656,
            0.2795,     2.4109,     2.6452,     2.3081,     1.0659,     2.6352,
            1.8197,     3.1048,     0.8481,     0.5821,     2.5573,     0.9739,
            2.0418,     1.4305,     0.4681,     1.1942,     2.6522,     0.0223,
            3.1017,     1.1615,     2.7832,     2.7293,     2.5850,     1.9137,
            2.8129,     0.9890,     0.8007,     2.4080,     1.4842,     2.5528,
            2.2453,     0.1020,     1.5276,     0.5611,     1.3005,     1.7333,
            0.1258,     1.7614,     1.4403,     2.5863,     2.0103,     2.5636,
            2.6675,     0.7275,     1.6404,     2.4654,     2.4558,     1.7908,
            3.0126,     1.8390,     2.8672,     1.0002,     2.1098,     1.9137,
            1.4288,     0.9804,     2.2066,     0.2660,     2.5212,     2.6758,
            2.1087,     1.7374,     0.0441,     2.8077,     1.1034,     3.0972,
            1.1011,     0.4600,     1.4700,     1.1851,     0.0763,     1.5228,
            2.0814,     0.0309,     1.7608,     0.6960,     3.3986,     0.3978,
            2.2594,     0.2180,     0.0775,     2.1583,     2.2738,     2.8765,
            0.0959,     1.3155,     1.9721,     0.9344,     2.2302,     2.0939,
            1.7019,     1.7955,     2.4732,     1.8485,     2.6686,     2.5943,
            2.1004,     1.5292,     1.4518,     2.1527,     1.7704,     1.7756,
            0.9402,     3.2770,     0.2704,     2.5984,     0.1061,     1.9831,
            1.9150,     1.7226,     1.6419,     1.8481,     1.5449,     2.5090,
            0.9208,     0.1532]


# Generate sample data
np.random.seed(42)
data = pd.DataFrame({
    'Category': ['ResNet34'] * 512 + ['ResNet50'] * 512,
    'Value': np.concatenate([np.array(ResNet34), np.array(ResNet50)])
})

# Set the color palette
palette = {
    'ResNet34': '#9467bd',
    'ResNet34+OURS': '#9467bd',
    'ResNet50': '#8c564b',
    'ResNet50+OURS': '#8c564b',
}

order = ['ResNet34', 'ResNet50']
custom_labels = ['ATS', 'ATS']

fontsize = 24
number_size = 20
# Create the box plot with customizations
plt.figure(figsize=(5, 6))
ax = sns.boxplot(x='Category', y='Value', data=data, palette=palette, order=order)

# Customize labels and title
# plt.title('Entropy distribution across samples of various architectures', fontsize=fontsize)
plt.xlabel('Method', fontsize=fontsize)
plt.ylabel('Entropy', fontsize=fontsize)

# Customize tick sizes
ax.set_xticklabels(custom_labels, fontsize=20, rotation=0)
plt.yticks(fontsize=number_size)

legend_elements = [
    Patch(facecolor='#9467bd', edgecolor='black', label='ResNet34'),
    Patch(facecolor='#8c564b', edgecolor='black', label='ResNet50'),
]
plt.axhline(y=1, color='red', linestyle='--', linewidth=2)

# Add legend to the plot
ax.legend(handles=legend_elements, title='Model', title_fontsize=18, fontsize=15, frameon=True, loc='lower right')

plt.grid(True, linestyle='--', alpha=0.6)
plt.tight_layout()
plt.savefig('./data/delta/delta_imagenet.pdf', format="pdf", bbox_inches="tight")